<!DOCTYPE html>
<html lang="en">

<head>
    <script>(origin === 'http://localhost:3000' || origin === 'http://192.168.1.221:3000') && navigator.serviceWorker.register('../../local.js', { scope: './' })</script>
    <meta charset="UTF-8">
    <script src='https://addsoupbase.github.io/legacy.js' nomodule></script>
    <script src="https://addsoupbase.github.io/css.js" blocking="render"></script>
    <script src="https://addsoupbase.github.io/css_bad.js" nomodule></script>
    <!-- <link rel="stylesheet" href="styles.css"> -->
    <meta http-equiv="content-language" content="en">
    <meta property="og:locale" content="en_US">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport"
        content="width=device-width, initial-scale=1, user-scalable=yes, viewport-fit=cover, interactive-widget=resizes-visual">
    <meta name="description" content="Violet's space themed page">
    <meta property="og:image:width" content="256">
    <meta property="og:image:height" content="256">
    <meta property="og:image:type" content="image/avif">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://addsoupbase.github.io/media/avatars/Violet.avif">
    <meta property="og:url" content="https://violetxzzz.github.io">
    <meta property="og:description" content="Violet's space themed page">
    <meta property="og:title" content="Violet's Page">
    <meta property="og:site_name" content="Violet's Page">
    <meta name="twitter:title" content="Violet's Page">
    <meta name="application-name" content="Violet's Page">
    <meta name="application-url" content="https://violetxzzz.github.io">
    <meta name="twitter:url" content="https://violetxzzz.github.io">
    <meta name="web_author" content="addsoupbase">
    <meta name="twitter:creator" content="@addsoupbase">
    <meta name="twitter:site" content="@addsoupbase">
    <meta name="twitter:creator:id" content="1799269566834454528">
    <meta name="twitter:site:id" content="1799269566834454528">
    <meta name="creator" content="addsoupbase">
    <meta name="designer" content="addsoupbase">
    <meta name="twitter:image" content="https://addsoupbase.github.io/media/avatars/Violet.avif">
    <meta name="twitter:image:width" content="256">
    <meta name="twitter:image:height" content="256">
    <meta name="msapplication-navbutton-color" content="#726cff">
    <meta name="msapplication-TileColor" content="#726cff">
    <meta name="msapplication-square150x150logo" content="./apple-touch-icon-152x152.png">
    <meta name="msapplication-square310x310logo" content="./apple-touch-icon-180x180.png">
    <meta name="msapplication-square70x70logo" content="./apple-touch-icon-72x72.png">
    <meta name="msapplication-wide310x150logo" content="./apple-touch-icon-180x180.png">
    <meta name="msapplication-TileImage" content="./apple-touch-icon-180x180.png">
    <meta name="msapplication-starturl" content="https://violetxzzz.github.io">
    <link rel="apple-touch-icon" sizes="180x180" href=".//apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href=".//favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href=".//favicon-16x16.png">
    <link rel="manifest" href="./site.webmanifest">
    <meta name="origin" content="https://violetxzzz.github.io">
    <meta name="msapplication-tooltip" content="Violet's Page">
    <meta name="prism:alternateTitle" content="Violet's Page">
    <meta name="twitter:card" content="summary">
    <meta name="thumbnail" content="https://addsoupbase.github.io/media/avatars/Violet.avif">
    <meta property="profile:username" content="addsoupbase">
    <!--summary_large_image,summary,app,or player -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="shortcut icon" href="favicon.ico">
    <meta name="robots" content="index">
    <meta name="theme-color" content="#726cff">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="author" content="addsoupbase">
    <link rel="canonical" href="https://violetxzzz.github.io">
    <script
        type="application/ld+json">{"@context":"https://schema.org","@type": "WebSite","name":"addsoupbase","url":"https://violetxzzz.github.io","description":"Violet's space themed page","author":{"@type": "Person","name":"addsoupbase","sameAs":["https://twitter.com/addsoupbase"]},"mainEntityOfPage":{"@type":"WebPage","@id":"https://violetxzzz.github.io"},"image":{"@type":"ImageObject","url":"https://addsoupbase.github.io/media/avatars/Violet.avif","width":256,"height":256}}</script>
    <link rel="apple-touch-icon" sizes="57x57" href="./apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="./apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="./apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="./apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="./apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="./apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="./apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="./apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="./apple-touch-icon-180x180.png">
    <meta name="mobile-web-app-capable" content="no">
    <meta name="apple-mobile-web-app-capable" content="no">
    <meta name="apple-mobile-web-app-title" content="Violet's Page">
    <link rel="apple-touch-startup-image" href="favicon.ico">
    <link rel="preload" as="image" href="galaxy.avif" type="image/avif">
    <title>Violet's Page</title>
    <!--
    this is absolutely sick: https://deep-fold.itch.io/
    -->
    <noscript>
        <link rel="stylesheet" href="https://addsoupbase.github.io/noscript.css">
    </noscript>
    <link rel="preload" as="font" crossorigin href="font.woff2" type="font/woff2">
    <style>
        @font-face {
            font-family: HalfTerm;
            src: url('./font.woff2') format('woff2'), url('./font.woff') format('woff'), url('./font.ttf') format('ttf');
            font-display: swap;
        }

        .debris {
            cursor: pointer;
            --tap-highlight-color: transparent;
            scale: 2 2;
            /* filter: drop-shadow(0px 0px 7px rgb(255, 255, 255, .4)); */
            background-image: url(./debris.png);
            background-image: -webkit-image-set(url("debris.avif") type("image/avif"), url("debris.webp") type("image/webp"));
            background-image: image-set(url("debris.avif") type("image/avif"), url("debris.webp") type("image/webp"));
            filter: brightness(1.25);
        }

        .asteroid1 {
            --width: 31px;
            --height: 31px;
            background-position: -1px -224px;
        }

        .planet {
            cursor: unset;
            z-index: 1 !important;
            scale: 2 2;
            filter: brightness(0.5) opacity(90%);
        }

        .planet1 {
            --width: 64px;
            --height: 64px;
            background-position: 0px 0px;
        }

        .planet2 {
            --width: 64px;
            --height: 64px;
            background-position: -64px 0px;
        }

        .planet3 {
            --width: 64px;
            --height: 64px;
            background-position: -128px 0px;
        }

        .planet4 {
            --width: 64px;
            --height: 64px;
            background-position: -192px 0px;
        }

        .planet5 {
            --width: 64px;
            --height: 64px;
            background-position: 0px -64px;
        }

        .planet6 {
            --width: 64px;
            --height: 64px;
            background-position: -64px -64px;
        }

        .planet7 {
            --width: 64px;
            --height: 64px;
            background-position: -128px -64px;
        }

        .planet8 {
            --width: 64px;
            --height: 64px;
            background-position: -192px -64px;
        }

        .planet9 {
            --width: 64px;
            --height: 64px;
            background-position: 0px -128px;
        }

        .planet10 {
            --width: 64px;
            --height: 64px;
            background-position: -64px -128px;
        }

        .planet11 {
            --width: 64px;
            --height: 64px;
            background-position: -128px -128px;
        }

        .planet12 {
            --width: 64px;
            --height: 64px;
            background-position: -192px -128px;
        }

        .asteroid2 {
            --width: 60px;
            --height: 30px;
            background-position: -34px -226px;
        }

        .asteroid3 {
            --width: 25px;
            --height: 18px;
            background-position: -100px -232px;
        }

        .asteroid4 {
            --width: 13px;
            --height: 11px;
            background-position: -137px -235px;
        }

        html {
            font-family: HalfTerm, monospace;
            font-size: 1.2em
        }

        #background,
        #background * {
            touch-action: pinch-zoom !important;
        }

        #background {
            --user-select: none;
            position: fixed;
            width: 100vw;
            z-index: 1;
            height: 100vh;
            background-size: cover, 100vw;
            animation: drift 120s ease-in-out alternate infinite;
            background-image: url(galaxy.png);
            background-image: -webkit-image-set(url("galaxy.avif") type("image/avif"), url("galaxy.webp") type("image/webp"));
            background-image: image-set(url("galaxy.avif") type("image/avif"), url("galaxy.webp") type("image/webp"));
            /* background: var(--color4); */
            background-color: linear-gradient(225deg, var(--color4) 0%, rgba(18, 12, 130, 1) 50%, rgba(0, 0, 0, 1) 100%);
            /* background: var(--color4); */
            background-color: linear-gradient(225deg, var(--color4) 0%, rgba(18, 12, 130, 1) 50%, rgba(0, 0, 0, 1) 100%);
        }

        @keyframes drift {
            0% {
                background-position-x: 0px;
            }

            100% {
                background-position-x: -1500px;
            }
        }

        .boom {
            pointer-events: none;
            --frames: 4 !important;
            scale: 2.5 2.5;
            transform: translate(4px, -2px);
            animation: slideshow 400ms steps(var(--frames), end)
        }

        .obj {
            position: absolute;
            image-rendering: pixelated;
            width: calc(var(--width) / var(--frames, 1));
            height: var(--height);
            z-index: 2;
            background-repeat: no-repeat;
        }

        .spacething {
            background-image: url(./space.png);
        }

        .spaceship::before {
            content: '';
            background-image: url(./flare.gif);
            width: 266px;
            height: 91px;
            display: block;
            /* position: fixed; */
            background-size: contain;
            transform: rotateZ(180deg) scale(0.6) translateY(-16px);
            background-repeat: no-repeat;
            background-position: -40px, center;
        }

        .spaceship {
            --width: 164px;
            --height: 96px;
            filter: drop-shadow(0px 0px 8px #ef0101);
        }

        body {
            margin: 0;
            padding: 0
        }

        *,
        ::before,
        ::after {
            box-sizing: border-box;
        }

        #controls {
            height: 40px;
            width: 100%;
            border: 1px solid black;
            display: flex;
            place-content: space-evenly;
            padding: 5px;
            overflow-x: auto;
            scrollbar-width: none;
            flex-shrink: 0;
        }

        :root {
            --color1: #726cff;
            --color2: #908df7;
            --color3: #BC6CFF;
            --color4: #3a3880;
            --animspeed: .1s;
        }

        main {
            width: 700px;
            z-index: 10;
            /* border-radius: 10px; */
            -webkit-box-shadow: 5px 9px 15px 5px #000000;
            box-shadow: 5px 9px 15px 5px #000000;
            height: 700px;
            max-height: 70vh;
            max-width: min(90vw, 700px);
            display: flex;
            flex-direction: column;
            place-items: center;
            overflow: hidden;
        }

        /*
        .hooparing {
            --size: 60px;
            width: var(--size);
            height: var(--size);
            background-size: contain;
            filter: brightness(1.2) hue-rotate(285deg);
            border: 3px solid #00ff2a;
            background-color: black;
            background-image: url(./hoopabg.png);
            background-image: -webkit-image-set(url("hoopabg.avif") type("image/avif"), url("hoopabg.webp") type("image/webp"));
            background-image: image-set(url("hoopabg.avif") type("image/avif"), url("hoopabg.webp") type("image/webp"));
            border-radius: 50%;
            position: absolute;
            left: calc(var(--size) * -.5);
            top: 50%;
            transform: translateY(-50%);
            z-index: 0;
        }
        .clipped {
            position: absolute;
            inset: 0;
            overflow: hidden;
            z-index: 1;
        }
        .hoopa {
            position: absolute;
            font-size: 3em;
            top: 50%;
            transform: translateY(-50%);
            animation: through-portal 4s linear infinite;
        }*/
        @keyframes through-portal {
            0% {
                left: -100px;
            }

            100% {
                left: 100%;
            }
        }

        .container {
            width: 500px;
            height: 500px;
            left: 500px;
            position: absolute;
        }

        button {
            font-size: 1.2em;
            text-transform: capitalize;
        }

        button[role=tab] {
            width: var(--stretch);
            margin: 0 2px 0 2px;
            max-width: 100px;
        }

        #frame,
        #controls {
            background-color: var(--color1);
        }

        .sect {
            text-align: center;
            padding: 15px;

        }

        #frame {
            border: 5px solid var(--color2);
            flex: 1;
            overflow-y: auto;
            width: 100%;
            scrollbar-width: thin;
            --scrollbar-width: 12px;
            --scrollbar-thumb-color: var(--color3);
            --scrollbar-color: var(--color2);
            margin-bottom: 5px;
            border-style: groove;
        }

        .avatar {
            border-radius: 100%;
        }

        .float {
            animation: float 15s linear infinite
        }

        @keyframes float {
            0% {
                rotate: 0deg
            }

            100% {
                rotate: 360deg
            }
        }

        #lcp {
            float: left;
            margin: 5px;
            height: auto;
            width: 25%;
            max-width: 160px;
            min-width: 100px;
            shape-outside: circle(48%);
        }

        @media screen and (width < 440px) {
            #lcp {
                float: none;
                display: flex;
                place-self: center;
                margin: auto
            }
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            text-transform: capitalize;
        }

        @keyframes slideshow {
            0% {
                background-position-x: 0%;
            }

            100% {
                background-position-x: calc(var(--width) * -1)
            }
        }

        @keyframes toTop {
            0% {
                translate: 0 calc(var(--height) * -1.5)
            }

            100% {
                translate: 0 calc(100vh * 1.5)
            }
        }

        @keyframes toRight {
            0% {
                translate: calc((var(--width) / var(--frames, 1)) * -1.5) 0;
            }

            100% {
                translate: calc(100vw + (var(--width) / var(--frames, 1)) * 1.5) 0;
            }
        }

        .slideshow {
            animation: slideshow calc(var(--frames) * var(--global-frame-dura)) steps(var(--frames), end) infinite;
        }

        .slideshowOnce {
            animation: slideshow calc(var(--frames) * var(--global-frame-dura) * var(--local-dura, 1)) steps(var(--frames), end);
        }

        :root {
            --global-frame-dura: 22ms
        }

        @keyframes glide {
            0% {
                transform: translateY(-100%)
            }

            100% {
                transform: translateY(100%)
            }
        }

        .cleffa {
            position: relative;
            --height: 24px;
            --frames: 2;
            scale: .5 .5;
            left: 23%;
            top: -3%;
            animation: slideshow 1s steps(2, end) infinite;
            --width: 48px;
            background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAYCAYAAAC8/X7cAAACEUlEQVR4nO2WL5faQBTFf+nZD5FVYV3ikEHFIqmrY10sVXyFRaWyq1jHulSubBSRceCaKPgWryLkLzMhYfd0K7jnjGBm3n333swkwA2fC6PnPrmi5p+gjxiRIATg+OuN++h5SG0fvCucSwW5eNeuZuL9RxrRhdObV7epTEW2O/WOppFrTGjDAXoHpFqUzdzCNeFhlVFvYkycxu8rTVwOZwD3F9VkkmbER9jMLYzvXyHe56OF12TB79EbS68prEv8Zm7xZ2mVIgsYE6fZw7UxZ1MOnt/JfadbSNKMBT4STHMTwNkjB1wTXNMCMlYRwoUnkaQZYJXhFHegjdef03w/WTGl5FYZMFYRsvTAnE3BtasmLfF1jEcWRJl2/dxEHsiAcJRQHqGTiYrQtbXi42M+ClF0HyWjELLAL8NRia9jPLK03DoDonu0dXwb/yBJM5K0SuhUd9GEOcuPyJBwVPdBZwBcG2Pi8DJx9FJcm6dZyCpCe5a7arvQDkeCkPvo+Swg7SUG9WvOmDisgcdirX5HhiDe83I6/4+q16lr80TYedF1kPqQIJTN3JI1iGx31QhCke1ONnNLJAgFkIPnF3WD+Ou8a1D2Kvb26VEWFZslCEuSYiw9SgM10l7fgjb/umm+wb/0qrWeAeVNDp5/JrrduCV+CHrxt9eH9lEVKRsPFP+h/Ff9CXtn/Wfz33DDDf8T/gKEpr8ZNmOcwAAAAABJRU5ErkJggg==)
        }

        .catchable {
            cursor: pointer;
            --tap-highlight-color: transparent;
        }

        .mew.shiny,
        .mew_idle.shiny {
            filter: hue-rotate(236deg)
        }

        .hoopa_unbound,
        .hoopa_unbound_idle {
            transform: translate(1.7px, 8.75px);
        }

        .jirachi,
        .jirachi_idle {
            transform: translate(10px, 15px);
        }

        .pokeball_catch {
            z-index: 1;
        }

        .pokeball_catch,
        .pokeball_throw {
            pointer-events: none;
        }

        .necrozma {
            filter: brightness(1.5)
        }

        .hoopa_unbound,
        .hoopa_unbound_intro,
        .hoopa_unbound_idle {
            z-index: 1;
            scale: 1.9 1.9;
        }

        .jirachi,
        .jirachi_intro,
        .jirachi_idle {
            scale: 1.6 1.6
        }
    </style>
</head>

<body>
    <div id="background" role="img" aria-label="PokÃ©mon in space"></div>
    <main class="center_screen">
        <div id="frame" role="tablist">
            <section class="sect">
                <picture>
                    <source srcset="https://addsoupbase.github.io/media/avatars/Violet.avif" type="image/avif">
                    <source srcset="https://addsoupbase.github.io/media/avatars/Violet.webp" type="image/webp">
                    <img alt="violet" width="256" height="256" class="avatar" id="lcp"
                        src="https://addsoupbase.github.io/media/avatars/Violet.jpg">
                </picture>
                <h1 style="place-self: center;font-size:2.5em">Violet</h1>
                <p>(Some stuff about the amazing violet here)</p>
                <p>Yes i know it looks ugly right now but it's not done don't worry!
                    I mainly just worked on the background today
                </p>
            </section>
        </div>
        <div id="controls" role="tablist">
            <button role="tab" aria-controls="frame" aria-selected="false">Background</button>
            <script>
                document.currentScript.previousElementSibling.onclick = () => { document.querySelector('main').remove() }
            </script>
        </div>
    </main>
    <script type="module">
        /*:
        `const data = ` + JSON.stringify(dir('./sprites/').map(o=>o.replace('.png','')))
        */
        import *as v from 'https://addsoupbase.github.io/v4.js'
        const { background } = v.id
        const $ = v.esc
        const { css } = v
        const slideshow = `slideshow calc(var(--frames) * var(--global-frame-dura)) steps(var(--frames), end) infinite`
        let mons = []
        function shiny(odds = 4000) {
            return Math.random() * odds > odds - 1 ? ' shiny' : ''
        }
        async function spawnJirachi() {
            // setTimeout(spawnJirachi, 40000 + Math.random() * 10000)
            if (isHidden() || document.querySelector('.jirachi, .jirachi_intro')) return
            let jirachi = $`<div data-name="jirachi" aria-hidden="true" style="top:${randomY()};left:${randomX()};--local-dura: 2;" class="jirachi_intro obj slideshowOnce${shiny()}"></div>`
                .setParent(background)
            await jirachi.until('!animationend')
            jirachi.classList.remove('jirachi_intro', 'slideshowOnce')
            jirachi.classList.add('jirachi', 'slideshow', 'catchable')
            jirachi.animate([{ translate: `0 100vh` }], {
                duration: 20000,
                delay: 200,
                // composite:'accumulate',
                iterations: 1,
                easing: 'linear'
            }).onfinish = () => jirachi.purge()
        }
        function spawnExoticPokemon() {
            setTimeout(spawnExoticPokemon, 40000 + Math.random() * 10000)
            if (isHidden()) return
            Math.random() > .5 ? spawnHoopaUnbound() : spawnJirachi()
        }
        setTimeout(spawnExoticPokemon, 10000 + Math.random() * 20000)
        async function spawnHoopaUnbound() {
            // setTimeout(spawnHoopaUnbound, 40000 + Math.random() * 10000)
            if (isHidden() || document.querySelector('.hoopa_unbound, .hoopa_unbound_intro')) return
            let hoopaUnbound = $`<div data-name="hoopa_unbound" aria-hidden="true" style="top:${randomY()};left:${randomX()};" class="hoopa_unbound_intro obj slideshowOnce${shiny()}"></div>`
                .setParent(background)
            await hoopaUnbound.until('!animationend')
            hoopaUnbound.classList.remove('hoopa_unbound_intro', 'slideshowOnce')
            hoopaUnbound.classList.add('hoopa_unbound', 'slideshow', 'catchable')
            // hoopaUnbound.style.animation = `${slideshow}`
            hoopaUnbound.animate([{ translate: `0 100vh` }], {
                duration: 15000,
                delay: 600,
                // composite:'accumulate',
                iterations: 1,
                easing: 'linear'
            }).onfinish = () => hoopaUnbound.purge()
        }
        // spawnHoopaUnbound()
        // setTimeout(spawnHoopaUnbound, 1000 + Math.random() * 20000)
        function doImages(key) {
            let i = new Image
            let src = i.src = `./sprites/${key}.png`
            i.decoding = 'async'
            i.onload = async () => {
                let { 0: k, 1: frames } = key.split('-')
                let blob = await (await fetch(src)).blob()
                let url = URL.createObjectURL(blob)
                preload(url)
                // $`<div class="${k} obj"></div>`.setParent(document.body)
                if (k.endsWith('.shiny')) {
                    css.registerCSSRaw(`.${k} {background-image: url(${url})}`)
                }
                else {
                    if (!k.startsWith('boom') && !k.startsWith('pokeball') && !k.endsWith('_idle')) mons.push(k)
                    css.registerCSSRaw(`.${k} {--width: ${i.naturalWidth}px; --height: ${i.naturalHeight}px; background-image: url(${url}); --frames: ${key.endsWith('sleep') ? 6 : frames};}`)
                }
            }
        }
        data.forEach(doImages)
        function isHidden() { return document.hidden }
        background.delegate({
            animationend() {
                this.purge()
            },
        })
        function preload(url) {
            $`<link rel="preload" as="image" href="${url}">`.setParent(document.head)
        }
        background.delegate({
            async pointerdown(e) {
                e.stopImmediatePropagation()
                this.classList.remove('catchable')
                this.style.pointerEvents = 'none'
                let rect = this.getBoundingClientRect()
                this.getAnimations().forEach(o => {
                    o.animationName !== 'slideshow' && o.pause()
                })
                let pokemonCenterX = rect.left + rect.width / 2
                let pokemonCenterY = rect.top + rect.height / 2
                let { name } = this.dataset
                this.classList.replace(name, name + '_idle')
                let n = $`<div aria-hidden="true" class="obj pokeball_throw slideshow pokeball"></div>`
                    .setParent(background)
                await n.animate([
                    {
                        transform: `translate(${pokemonCenterX}px, 100vh) scale(4, 4)`,
                    },
                    {
                        transform: `translate(${pokemonCenterX - 20}px, ${pokemonCenterY - 20}px) scale(0.5, 0.5)`,
                    }
                ], {
                    duration: 1400 - pokemonCenterY,
                    iterations: 1,
                    fill: 'forwards',
                    easing: 'linear'
                }).finished
                n.classList.remove('slideshow')
                n.classList.replace('pokeball_throw', 'pokeball_catch')
                n.clientHeight
                let pokeballRect = n.getBoundingClientRect()
                let pokballCenterX = pokeballRect.left + pokeballRect.width / 2
                let pokballCenterY = pokeballRect.top + pokeballRect.height / 2
                let offsetX = pokballCenterX - pokemonCenterX
                let offsetY = pokballCenterY - pokemonCenterY
                this.animate([
                    { transform: `translate(0, 0) scale(1, 1)` },
                    {
                        transform: `translate(${offsetX}px, ${offsetY}px) scale(0, 0)`,
                        filter: 'opacity(0%) brightness(1000%) saturate(0%) contrast(100%)',
                    }], {
                    duration: 1000,
                    iterations: 1,
                    delay: 400,
                    composite: 'add',
                    easing: 'ease'
                }).finished.then(() => this.purge())
                n.style.animation = 'slideshow 4s steps(var(--frames), end)'
                await n.until('!animationend')
                n.fadeOut().finished.then(() => n.purge())
            }
        }, o => o.matches('.catchable'), false, new AbortController)
        background.delegate({
            pointerdown(e) {
                e.stopImmediatePropagation()
                let t = +this.dataset.type
                switch (t) {
                    case 1: case 3: t = 2
                        break
                    case 2: t = 3
                        break
                    case 4: t = 1
                        break
                }
                let rect = this.getBoundingClientRect()
                    , translate = `${rect.left}px 0`
                this.className = `boom${t} boom obj`
                this.style.translate = translate
                this.style.animation = ''
                delete this.dataset.type
            }
        }, o => !isNaN(o.dataset.type))
        //@devwindow.mons = mons
        function spawnSpaceShip() {
            setTimeout(spawnSpaceShip, 60 * 1000 * (Math.random() * 2))
            if (isHidden()) return
            let scale = Math.random()
            let dir = Math.random() > .5
            let o = $`<div class="spaceship spacething obj" style="${dir ? 'scale: -.8 .8;' : ''}top: ${randomY()}; animation: toRight ${40 + (Math.random() * 20)}s linear${dir ? '' : ' reverse'}"></div>`
                .setParent(background)
            // .onanimationend = remove
        }
        function remove(e) {
            this.purge()
        }
        // spawnSpaceShip()
        function spawnAsteroid() {
            setTimeout(spawnAsteroid, 3000 + (Math.random() * 1000))
            if (isHidden()) return
            let i = Math.floor(Math.random() * 4) + 1
            let asteroid = $`<div aria-hidden="true" data-type="${i}" class="asteroid${i} obj debris" style="top:${randomY()};animation:float ${40 - Math.random() * 30}s linear infinite${Math.random() > .5 ? '' : ' reverse'}, toRight ${20 + (i * 5) + (Math.random() * 20)}s linear${Math.random() > .5 ? '' : ' reverse'}"></div>`
                .setParent(background)
            // .onanimationend = remove
            // if (i === 2 && Math.random() < .2) asteroid.pushNode($`<div class="cleffa obj"></div>`)
        }
        spawnAsteroid()
        function spawnPlanet() {
            setTimeout(spawnPlanet, 30000 + (Math.random() * 1000))
            if (isHidden()) return
            let i = Math.floor(Math.random() * 12) + 1
            let asteroid = $`<div class="planet planet${i} obj debris" style="top:${randomY()};animation:float ${700 - Math.random() * 30}s linear infinite${Math.random() > .5 ? '' : ' reverse'}, toRight ${600 - (i * 4)}s linear${Math.random() > .5 ? '' : ' reverse'}"></div>`
                .setParent(background)
        }
        // setTimeout(spawnPlanet, 10000 + Math.random() * 10000)
        function randomY() {
            return `${Math.random() * innerHeight}px`
        }
        function randomX() {
            return `${Math.random() * innerWidth}px`
        }
        /*function spawnSleepingPokemon() {
            setTimeout(spawnSleepingPokemon, 3500 + (Math.random() * 1000))
            let sleeping = mons.filter(o => o.endsWith('sleep'))
            let pkm = sleeping[Math.floor(Math.random() * sleeping.length)]
            if (!pkm || isHidden()) return
            $`<div class="${pkm} obj${shiny()}" style="top: ${randomY()};animation: float 20s linear infinite${Math.random() > .5 ? '' : ' reverse'}, toRight ${40 + Math.random() * 10}s linear${Math.random() > .5 ? '' : ' reverse'}, ${slideshow};"></div>`
                .setParent(background)
        }*/
        let special = new Set(`hoopa_unbound hoopa_unbound_intro jirachi_intro jirachi`.split(' '))
        let legendary = new Set(`giritina2 arceus uxie azelf mesprit mew lunala rayquaza necrozma necrozma_ultra deoxys deoxys_speed deoxys_attack deoxys_defense`.split(' '))
        // spawnSleepingPokemon()
        function spawnPokemon() {
            setTimeout(spawnPokemon, 1600 + (Math.random() * 100))
            let regular = mons.filter(o => !o.endsWith('sleep') && !special.has(o))
            let pkm = regular[Math.floor(Math.random() * regular.length)]
            let a = 10
            if (!pkm || isHidden()) return
            while (legendary.has(pkm) && document.querySelector(`.${pkm}`) && a--) pkm = regular[Math.floor(Math.random() * regular.length)]
            let i = Math.random() > .5 ? 1 : -1
            let scale = .7
            let speed = 1.2
            switch (pkm) {
                case 'beheeyem':
                case 'elgyem':
                    scale *= 2.3
                    speed *= 1.5
                    break
                case 'azelf':
                    scale *= 1.1
                case 'mew':
                case 'uxie':
                case 'mesprit':
                    scale *= 2.2
                    speed *= 1.5
                    break
                case 'minior_meteor':
                    scale *= 2
                    break
                case 'deoxys_speed':
                    speed *= 3
                case 'deoxys_attack':
                case 'deoxys_defense':
                case 'deoxys':
                    speed *= 3
                    scale *= 2.7
                    break
                case 'lunala':
                    scale *= 3
                    break
                case 'lunatone':
                case 'solrock':
                    scale *= 2.6
                    break
                case 'naganadel':
                    scale *= 3
                    speed *= 2.5
                    break
                case 'necrozma_ultra':
                    scale *= 5
                    break
                case 'giritina2':
                    scale *= 3.6
                    break
                case 'rayquaza':
                    scale *= 2.4
                    speed *= 2
                    break
                case 'necrozma':
                    scale *= 2.3
                    break
                case 'arceus':
                    scale *= 2.5
                    break
            }
            scale *= i
            $`<div data-name="${pkm}" aria-hidden="true" class="${pkm} catchable obj${shiny()}" style="scale: ${scale} ${Math.abs(scale)};top: ${randomY()}; animation: ${slideshow}, toRight ${(40 + Math.random() * 40) / speed}s linear${i === 1 ? '' : ' reverse'}"></div>`
                .setParent(background)
        }
        setTimeout(spawnPokemon, 300)
    </script>
</body>
<script>
    console.log('%cVisit here! https://deep-fold.itch.io/', 'font-size: 2em;font-family:HalfTerm, monospace')
</script>

</html>